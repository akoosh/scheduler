<!-- Course search page -->
<template name="searchPage">

    <div class="row">
        <div class="span4">
          <div id="planContainer">{{> planLayout }}</div>
        </div>

        <div class="span8 searchLayoutContainer">
            {{> searchLayout }}
        </div>
    </div>
</template>

<template name="planLayout">
    <div id="planLayout">
      <div class="info-icon info-question plan-info" title="Slots allow you to build a schedule by requiring a class from each slot. For example if you have 3 slots this will generate schedules with 3 classes where 1 class from each slot is selected." >?</div>
        {{#each slots}}
            {{> slotDisplay }}
        {{/each}}
        {{> slotDisplay}}
        {{> generateButton }}
    </div>
</template>

<template name="generateButton">
    <button class="generateButton btn btn-default" {{generateButtonEnabled}} title="Generate the schedules for the current slots and view the results">Generate and View Schedules</button>
</template>

<template name="slotDisplay">
    <div class="slotDisplay {{selectedOrEmpty}}">
        <h3 class="slotInfo" >Slot {{slotNumber}}</h3>
        {{#each classes}}
            {{> classButton }}
        {{/each}}
    </div>
</template>

<template name="classButton">
    <div class="classButton" title="{{description}}">
        <table class="classButtonRowTable">
          <tr>
            <td>{{subject_with_number}}</td>
            <td>{{title}}</td>
            <!-- <td>(#{{number}})</td> -->
            <td>
              <button class="btn btn-danger btn-small removeButton" title="Remove {{subject_with_number}} from this slot">x</button>
            </td>
          </tr>
        </table>
    </div>
</template>

<template name="searchLayout">
    <div id="searchLayout">
        {{> ssuLogo }}
        {{> searchBar }}
        {{> queryDisplay }}
    </div>
</template>

<template name="ssuLogo">
    <img id="logo" src="/image/ssu_logo.jpg">
</template>


<template name="searchBar">
    <input type="text" id="query" placeholder="Search for classes" />
</template>

<template name="queryDisplay">
    <div id="results">
        {{#each queryResults}}
            {{> courseDisplay }}
        {{/each}}
        {{#if moreResults}}
          <button class="btn btn-default loadMoreResults">Load More Results</button>
        {{/if}}
    </div>
</template>

<template name="courseDisplay">
    <div class="courseDisplay" >
        <table class="description-table">
            <tr class="description">
                <td class="courseSubject">{{subject_with_number}}</td>
                <td class="courseTitle" title="{{title}}" description="{{description}}">{{title}}</td>
                <td class="courseUnits">{{units}} units</td>
                <td>
                  <button class="addButton btn btn-primary" title="Add all classes for this course to the current slot">Add All</button>
                </td>
            </tr>
        </table>
        {{#each augmentedClasses}}
            <div class="classRow">{{> classDisplay }}</div>
        {{/each}}
        <div class="courseInfo">
          <span title="{{title}}" description="{{description}}" class="info-icon info-i">i</span>
        {{#each geCodes}}
          <span class="ge-icon" title="This course fulfills the general education category {{this}}">GE {{this}}</span>
        {{/each}}
        {{#if moreResults}}
          <button class="btn btn-default loadMoreClasses" course="{{subject_with_number}}" title="Load more classes for this course">Load More</button>
        {{/if}}
        </div>
    </div>
</template>

<template name="classDisplay">
    <div class="classDisplay">
        <div>#{{number}}
          <button class="addButton btn btn-primary" title="Add this class to the current slot">Add</button>
        </div>
        <table>
            {{#each sections}}
                {{> sectionDisplay }}
            {{/each}}
        </table>
    </div>
</template>

<template name="sectionDisplay">
    <tr>
        <td>{{#each times}} {{days}} {{start_time}}-{{end_time}} {{/each}}</td>
        <td>{{#each locations}} {{this}} {{/each}}</td>
        <td>{{#each professors}} {{this}} {{/each}}</td>
        <td>{{type}}</td>
    </tr>
</template>

<template name="addButton">
</template>
