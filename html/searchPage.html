<!-- Course search page -->
<template name="queryPage">
    <div class="row">
        <div class="span4">
            {{> planLayout }}
        </div>
        <div class="span8">
            {{> searchLayout }}
        </div>
    </div>
</template>

<template name="planLayout">
    <div id="planLayout">
        {{#each slots}}
            {{> slotDisplay }}
        {{/each}}
        {{> slotDisplay}}
        {{> generateButton }}
    </div>
</template>

<template name="generateButton">
    <button class="generateButton btn btn-default" {{generateButtonEnabled}} title="Generate the schedules for the current slots and view the results">Generate and View Schedules</button>
</template>

<template name="slotDisplay">
    <div class="slotDisplay {{selectedOrEmpty}}">
        <h3>Slot {{slotNumber}}</h3>
        {{#each classes}}
            {{> classButton }}
        {{/each}}
    </div>
</template>

<template name="classButton">
    <div class="classButton">
        <span title="{{description}}" class="classButtonText">{{subject_with_number}} (#{{number}})</span>
        <button class="btn btn-danger btn-small removeButton" title="Remove {{subject_with_number}} from this slot">x</button>
    </div>
</template>

<template name="searchLayout">
    <div id="searchLayout">
        {{> ssuLogo }}
        {{> searchBar }}
        {{> queryDisplay }}
    </div>
</template>

<template name="ssuLogo">
    <img id="logo" src="/image/ssu_logo.jpg">
</template>


<template name="searchBar">
    <input type="text" id="query" />
</template>

<template name="queryDisplay">
    <div id="results">
        {{#each queryResults}}
            {{> courseDisplay }}
        {{/each}}
    </div>
</template>

<template name="courseDisplay">
    <div class="courseDisplay" >
        <table class="description-table">
            <tr class="description">
                <td class="courseSubject">{{subject_with_number}}</td>
                <td class="courseTitle" title="{{title}}" description="{{description}}">{{title}}</td>
                <td class="courseUnits">{{units}} units</td>
                <td title="Add all {{subject_with_number}} classes to current slot">{{> addButton }}</td>
            </tr>
        </table>
        {{#each augmentedClasses}}
            <div class="classRow">{{> classDisplay }}</div>
        {{/each}}
        <div>
          <span title="{{title}}" description="{{description}}" class="info-icon"></span>
        {{#each geCodes}}
          <span class="btn btn-info btn-small" title="This course fulfills the general education category {{this}}">GE {{this}}</span>
        {{/each}}
        </div>
    </div>
</template>

<template name="classDisplay">
    <div class="classDisplay">
        <div title="Add class {{number}} to current slot" >#{{number}} {{> addButton }}</div>
        <table>
            {{#each sections}}
                {{> sectionDisplay }}
            {{/each}}
        </table>
    </div>
</template>

<template name="sectionDisplay">
    <tr>
        <td>{{#each times}} {{days}} {{start_time}}-{{end_time}} {{/each}}</td>
        <td>{{#each locations}} {{this}} {{/each}}</td>
        <td>{{#each professors}} {{this}} {{/each}}</td>
        <td>{{type}}</td>
    </tr>
</template>

<template name="addButton">
    <button class="addButton btn btn-primary">Add</button>
</template>
